{% extends 'dessertreview/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {% if shop %}
        {{ shop.name }}
    {% else %}
        Unknown Shop
    {% endif %}
{% endblock %}

{% block body_block %}
    {% if shop %}
        <h1>{{ shop.name }}</h1>
        <p>{{shop.location}}</p>
        <img src="/media/{{shop.picture}}" alt="image of {{shop.name}}" width="300" height="300"/>
        <h2>Menu</h2>
        <a href="{% url 'dessertreview:add_dessert' %}">Add Dessert</a><br>
        {% if desserts %}
            {% regroup desserts by category as dessert_list %}
            <ul>
                {% for category in dessert_list %}
                    <li><h3>{{ category.grouper }}</h3>
                        <ul>
                        {% for dessert in category.list %}
                            <li><a href="{% url 'dessertreview:show_dessert' dessert.slug %}">{{ dessert.name }}</a></li>
                        {% endfor %}
                        </ul>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <strong>This shop has no desserts.</strong>
        {% endif %}
    {% else %}
        The specified shop does not exist.
    {% endif %}
{% endblock %}